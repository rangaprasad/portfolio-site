
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Document Viewer</title>
  <link rel="stylesheet" href="/assets/site.css">
  <style>
    .viewer{height:80vh;width:100%;border:1px solid var(--pill-border);border-radius:12px;background:#111}
    .bar{display:flex;gap:8px;align-items:center;justify-content:space-between;margin:12px 0}
    .bar .left{display:flex;gap:8px;align-items:center}
    .bar input{width:420px;max-width:60vw;background:var(--pill);border:1px solid var(--pill-border);color:var(--fg);padding:8px;border-radius:8px}
  </style>
</head>
<body>
  <div class="page">
    <div class="hero">
      <h1>Document Viewer</h1>
      <p>Pass <code>?file=</code> to load a PDF. Example: <code>/work/viewer.html?file=assets/RangaPrasad-Sep%2025.pdf</code></p>
    </div>

    <div class="section">
      <div class="bar">
        <div class="left">
          <span class="badge">PDF URL</span>
          <input id="fileInput" placeholder="assets/RangaPrasad-Sep 25.pdf" />
          <a id="openBtn" class="btn" href="#">Open</a>
        </div>
        <div class="btns">
          <a id="dlBtn" class="btn" href="#" download>Download</a>
          <a id="rawBtn" class="btn" href="#" target="_blank" rel="noopener">Open Raw</a>
        </div>
      </div>
      <iframe id="viewer" class="viewer" src="" title="PDF"></iframe>
    </div>

    <div class="section">
      <h2>Shortcuts</h2>
      <div class="grid">
        <a class="card" href="/work/viewer.html?file=assets/RangaPrasad-Sep%2025.pdf">
          <h3>Resume</h3><div class="meta">assets/RangaPrasad-Sep 25.pdf</div>
        </a>
        <a class="card" href="/work/viewer.html?file=assets/RangaPrasad_Portfolio_Deck_Exec.pdf">
          <h3>Portfolio Deck</h3><div class="meta">assets/RangaPrasad_Portfolio_Deck_Exec.pdf</div>
        </a>
      </div>
    </div>

    <footer>Viewer â€¢ Uses native PDF rendering in the browser.</footer>
  </div>

  <script>
    function getParam(name){
      const u = new URL(window.location.href);
      return u.searchParams.get(name);
    }
    function setViewer(file){
      if(!file) return;
      const enc = file.replace(/ /g, '%20');
      document.getElementById('viewer').src = enc;
      document.getElementById('dlBtn').href = enc;
      document.getElementById('rawBtn').href = enc;
      document.getElementById('fileInput').value = file;
    }
    const initFile = getParam('file');
    if(initFile){ setViewer(initFile); }

    document.getElementById('openBtn').addEventListener('click', (e)=>{
      e.preventDefault();
      const val = document.getElementById('fileInput').value.trim();
      if(val){ setViewer(val); const u = new URL(window.location.href); u.searchParams.set('file', val); history.replaceState(null,'',u.toString());}
    });
  </script>
</body>
</html>
